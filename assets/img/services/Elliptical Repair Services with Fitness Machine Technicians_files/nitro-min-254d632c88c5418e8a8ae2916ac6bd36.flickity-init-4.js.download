jQuery(document).ready(oxygen_init_repeater_carousel);function oxygen_init_repeater_carousel(e){Flickity.createMethods.push("_createPrevNextCells");Flickity.prototype._createPrevNextCells=function(){this.on("select",this.setPrevNextCells)};Flickity.prototype.setPrevNextCells=function(){i(this.previousSlide,"remove","is-previous");i(this.nextSlide,"remove","is-next");var e=fizzyUIUtils.modulo(this.selectedIndex-1,this.slides.length);var t=fizzyUIUtils.modulo(this.selectedIndex+1,this.slides.length);this.previousSlide=this.slides[e];this.nextSlide=this.slides[t];i(this.previousSlide,"add","is-previous");i(this.nextSlide,"add","is-next")};function i(e,i,t){if(!e){return}e.getCellElements().forEach(function(e){e.classList[i](t)})}Flickity.prototype._createResizeClass=function(){this.element.classList.add("flickity-resize")};Flickity.createMethods.push("_createResizeClass");var t=Flickity.prototype.resize;Flickity.prototype.resize=function(){this.element.classList.remove("flickity-resize");if(!this.isAnimating){t.call(this)}this.element.classList.add("flickity-resize")};(function(){let e=false;let i;document.body.addEventListener("touchstart",t=>{if(t.target.closest(".flickity-slider")){e=true}else{e=false;return}i=t.touches[0].pageX});document.body.addEventListener("touchmove",t=>{if(!e||!t.cancelable||Math.abs(t.touches[0].pageX-i)<4)return;t.preventDefault();t.stopPropagation()},{passive:false})})();var a=function(i){e(i).find(".oxy-carousel-builder").each(function(i,t){var a=e(t),s=a.find(".oxy-carousel-builder_inner"),l="#"+a.attr("id")+" "+s.data("carousel"),n;if(".oxy-dynamic-list"===s.data("carousel")){if(true!=s.data("repeater-cell")){var o=e(l).children(".ct-div-block").attr("data-id");if(typeof o!==typeof undefined&&o!==false){n='[data-id="'+o+'"]'}else{n="#"+e(l).children(".ct-div-block").attr("id")}}else{n=s.data("cell")}}else{n=s.data("cell")}var r=s.data("prev"),d=s.data("next"),c=s.data("contain"),u=s.data("freescroll"),f=s.data("draggable"),y=s.data("wraparound"),v=s.data("groupcells"),p=s.data("autoplay"),x=s.data("initial")-1,h=s.data("accessibility"),m=s.data("cellalign"),b=s.data("righttoleft"),k=false==s.data("images-loaded")?false:true,g=s.data("pagedots"),_=s.data("percent"),C=e(s.data("asnavfor")+" "+e(s.data("asnavfor")).find(".oxy-carousel-builder_inner").data("carousel"))[0],z=s.data("sync")+" "+e(s.data("sync")).find(".oxy-carousel-builder_inner").data("carousel"),S=s.data("dragthreshold"),w=s.data("selectedattraction"),L=s.data("friction"),P=s.data("freescrollfriction"),T=s.data("bgspeed"),E=s.data("adaptheight"),F=s.data("fullscreen"),I=s.data("lazy"),A=s.data("bg-lazy"),N=s.data("fade"),D=s.data("pauseautoplay"),M=s.data("trigger-aos"),O=s.data("trigger-aos-delay"),U=s.data("resume-autoplay"),q=s.data("hash");e(l).on("ready.flickity",function(e,i){setTimeout(function(){Y()},0)});if(true===M){e(l).find(".aos-init").css("visibility","hidden");e(l).find(".aos-init").removeClass("aos-animate");e(l).on("ready.flickity",function(){e(l).find(".aos-init").css("visibility","visible");e(l).find(".aos-init").removeClass("aos-animate");if(typeof AOS!=="undefined"){AOS.refresh(true)}setTimeout(function(){e(l).find(".is-selected").siblings().find(".aos-init").removeClass("aos-animate")},O)})}s.removeClass("oxy-carousel-builder_hidden");if(null!=e(l)[0]){e(l)[0].offsetHeight}var H={groupCells:v,contain:c,freeScroll:u,draggable:f,wrapAround:y,cellSelector:n,autoPlay:p,accessibility:h,cellAlign:m,rightToLeft:b,pageDots:g,percentPosition:_,asNavFor:C,adaptiveHeight:E,dragThreshold:S,selectedAttraction:w,friction:L,freeScrollFriction:P,imagesLoaded:k,lazyLoad:I,bgLazyLoad:A,prevNextButtons:false,watchCSS:true,fullscreen:F,fade:N,pauseAutoPlayOnHover:D,sync:z,hash:q};if(true!==q){Object.assign(H,{initialIndex:x})}var R=e(l).flickity(H);var X;d=d===".oxy-carousel-builder_next"?"#"+a.attr("id")+" "+d:d;r=r===".oxy-carousel-builder_prev"?"#"+a.attr("id")+" "+r:r;e(d).off("click");e(d).on("click",function(i){i.preventDefault();if(e(this).parent(".oxy-carousel-builder").length){X=e(this).parent(".oxy-carousel-builder").find(s.data("carousel"))}else{X=e(l)}X.flickity("next");if(0!==p){X.flickity("pausePlayer");setTimeout(function(){X.flickity("unpausePlayer")},p)}});e(r).off("click");e(r).on("click",function(i){i.preventDefault();if(e(this).parent(".oxy-carousel-builder").length){X=e(this).parent(".oxy-carousel-builder").find(s.data("carousel"))}else{X=e(l)}X.flickity("previous");if(0!==p){X.flickity("pausePlayer");setTimeout(function(){X.flickity("unpausePlayer")},p)}});if(true===s.data("clickselect")){R.on("staticClick.flickity",function(i,t,a,s){if(typeof s=="number"){e(this).flickity("selectCell",s)}})}R.on("dragStart.flickity",function(){e(l).find(".flickity-slider > *").css("pointer-events","none")});R.on("dragEnd.flickity",function(){e(l).find(".flickity-slider > *").css("pointer-events","all")});if(true===s.data("parallaxbg")){if(".oxy-dynamic-list"===s.data("carousel")){var j=R.find(".flickity-slider").children(".ct-div-block")}else{var j=R.find(n)}var W=document.documentElement.style;var B=typeof W.transform=="string"?"transform":"WebkitTransform";var Q=R.data("flickity");function G(){Q.slides.forEach(function(i,t){var a=j[t];var s=e(a).find("[data-speed]");var l=i.target+Q.x;s.each(function(){var i=e(this).attr("data-speed");var t=e(this)[0];var a=l*(-1/i);t.style[B]="translateX("+a+"px)"})})}G();R.on("scroll.flickity",function(e,i){G()})}if(true===M){R.on("change.flickity",function(i,t){e(l).find(".aos-init").css("visibility","hidden");e(l).find(".aos-init").removeClass("aos-animate");setTimeout(function(){e(l).find(".is-selected .aos-init").css("visibility","visible");setTimeout(function(){e(l).find(".is-selected .aos-init").addClass("aos-animate");e(l).find(".is-selected").siblings().find(".aos-init").removeClass("aos-animate")},20)},O)})}if(true===s.data("tick")&&true===s.data("wraparound")){var J=s.data("ticker");var K=null;var V=false;const i=document.querySelector(l);const t=function(){if(V)return;if(K.slides){K.x=(K.x-J)%K.slideableWidth;K.selectedIndex=K.dragEndRestingSelect();K.updateSelectedSlide();K.settle(K.x)}window.requestAnimationFrame(t)};const a=function(){V=true};const n=function(){if(V){V=false;window.requestAnimationFrame(t)}};K=e(l).data("flickity");K.x=0;if(true===s.data("tickerpause")){i.addEventListener("mouseenter",a,false);i.addEventListener("focusin",a,false);i.addEventListener("mouseleave",n,false);i.addEventListener("focusout",n,false)}K.on("dragStart",function(){V=true});t()}R.on("select.flickity",function(e,i){Y()});R.on("fullscreenChange.flickity",function(i,t){if(true===t){e(r).addClass("oxy-carousel-builder_icon-fullscreen");e(d).addClass("oxy-carousel-builder_icon-fullscreen")}else{e(r).removeClass("oxy-carousel-builder_icon-fullscreen");e(d).removeClass("oxy-carousel-builder_icon-fullscreen")}setTimeout(function(){R.flickity("resize")},300)});function Y(){if(false===s.data("wraparound")){var i=e(l).data("flickity");if(null!=i.selectedCell){var t=i.selectedCell.target;if(!i.slides[i.selectedIndex-1]&&!i.slides[i.selectedIndex+1]){e(r).addClass("oxy-carousel-builder_icon_disabled");e(d).addClass("oxy-carousel-builder_icon_disabled")}else if(!i.slides[i.selectedIndex-1]){e(r).addClass("oxy-carousel-builder_icon_disabled");e(d).removeClass("oxy-carousel-builder_icon_disabled")}else if(!i.slides[i.selectedIndex+1]){e(d).addClass("oxy-carousel-builder_icon_disabled");e(r).removeClass("oxy-carousel-builder_icon_disabled")}else{e(r).removeClass("oxy-carousel-builder_icon_disabled");e(d).removeClass("oxy-carousel-builder_icon_disabled")}}}}if(0!==p&&null!=U){R.on("dragEnd.flickity",function(){setTimeout(function(){e(l).flickity("playPlayer")},U)});R.on("staticClick.flickity",function(){setTimeout(function(){e(l).flickity("playPlayer")},U)});R.on("pointerMove.flickity",function(){setTimeout(function(){e(l).flickity("playPlayer")},U)})}a.find(".oxy-carousel-next").parent(".oxy-carousel-navigation").addClass("oxy-carousel-navigation_next");a.find(".oxy-carousel-previous").parent(".oxy-carousel-navigation").addClass("oxy-carousel-navigation_prev");e(window).on("load",function(){R.flickity("resize")});if(e(l).has(".oxy-read-more-less")){e(l).find(".oxy-read-more-less").on("extras_readmore:expand extras_readmore:collapse",function(){setTimeout(function(){R.flickity("resize")},5)})}});if(e(".oxy-tab-content").length){if(window.angular)return;if(e(".oxy-tab-content").has(".oxy-carousel-builder")){e(".oxy-tabs").on("click",function(){let i="#"+e(this).attr("data-oxy-tabs-contents-wrapper");let t=e(i).find(".oxy-carousel-builder");t.each(function(){let i=Flickity.data(e(this).find(".flickity-enabled")[0]);setTimeout(function(){i.resize()},20)})})}}};a("body");window.doExtrasCarousel=a};